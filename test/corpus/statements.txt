============================================
Comments
============================================

/*
Block comment with
multiple lines
*/

// Single line comment

// Multiple Single
// line comments

/* Single line block comment */

---

(source_file
  (multi_line_comment)
  (single_line_comment)
  (single_line_comment)
  (single_line_comment)
  (multi_line_comment))

============================================
Namespaces and identifiers
============================================

namespace Foo;

namespace Foo.Bar.Baz;

namespace Foo {}

namespace Foo {
  namespace Bar {
    namespace Baz {}
  }
}

---

(source_file
  (namespace_statement
    (plain_identifier))
  (namespace_statement
    (member_expression
      (plain_identifier)
      (plain_identifier)
      (plain_identifier)))
  (namespace_statement
    (plain_identifier))
  (namespace_statement
    (plain_identifier)
    (namespace_statement
      (plain_identifier)
      (namespace_statement
        (plain_identifier)))))

============================================
Imports and using statements
============================================

import "foo";
import "bar";

using Foo;
using Foo.Bar;

---

(source_file
  (import_statement
    (quoted_string_literal
      (quoted_string_fragment)))
  (import_statement
    (quoted_string_literal
      (quoted_string_fragment)))
  (using_statement
    (plain_identifier))
  (using_statement
    (member_expression
      (plain_identifier)
      (plain_identifier))))

============================================
Model heritage
============================================

model Foo {}

model Foo is A;

model Foo is A.B.C;

model Foo extends A.B.C {}

---

(source_file
  (model_statement
    (plain_identifier)
    (model_expression))
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (reference_expression
        (plain_identifier))))
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (reference_expression
        (member_expression
          (plain_identifier)
          (plain_identifier)
          (plain_identifier)))))
  (model_statement
    (plain_identifier)
    (model_extends_heritage
      (reference_expression
        (member_expression
          (plain_identifier)
          (plain_identifier)
          (plain_identifier))))
    (model_expression)))

============================================
Expressions
============================================

model Foo is A | B | C;

model Foo is A & B & C;

model Foo is A[] & valueof B | (C & D.E.F);

model Foo is A<B> & C<D> & E<F>;

---

(source_file
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (union_expression
        (union_expression
          (reference_expression
            (plain_identifier))
          (reference_expression
            (plain_identifier)))
        (reference_expression
          (plain_identifier)))))
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (intersection_expression
        (intersection_expression
          (reference_expression
            (plain_identifier))
          (reference_expression
            (plain_identifier)))
        (reference_expression
          (plain_identifier)))))
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (union_expression
        (intersection_expression
          (array_expression
            (reference_expression
              (plain_identifier)))
          (value_of_expression
            (reference_expression
              (plain_identifier))))
        (parenthesized_expression
          (intersection_expression
            (reference_expression
              (plain_identifier))
            (reference_expression
              (member_expression
                (plain_identifier)
                (plain_identifier)
                (plain_identifier))))))))
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (intersection_expression
        (intersection_expression
          (reference_expression
            (plain_identifier)
            (template_arguments
              (expression_list
                (reference_expression
                  (plain_identifier)))))
          (reference_expression
            (plain_identifier)
            (template_arguments
              (expression_list
                (reference_expression
                  (plain_identifier))))))
        (reference_expression
          (plain_identifier)
          (template_arguments
            (expression_list
              (reference_expression
                (plain_identifier)))))))))

============================================
Template parameters
============================================

model Foo<T> {}

model Foo<T, U> {}

model Foo<T = string, U = int32> {}

model Foo<T extends A, U extends B> {}

model Foo<T extends string = string> {}

model Foo is A<T>;

---

(source_file
  (model_statement
    (plain_identifier)
    (template_parameters
      (template_parameter_list
        (template_parameter
          (plain_identifier))))
    (model_expression))
  (model_statement
    (plain_identifier)
    (template_parameters
      (template_parameter_list
        (template_parameter
          (plain_identifier))
        (template_parameter
          (plain_identifier))))
    (model_expression))
  (model_statement
    (plain_identifier)
    (template_parameters
      (template_parameter_list
        (template_parameter
          (plain_identifier)
          (template_default
            (reference_expression
              (plain_identifier))))
        (template_parameter
          (plain_identifier)
          (template_default
            (reference_expression
              (plain_identifier))))))
    (model_expression))
  (model_statement
    (plain_identifier)
    (template_parameters
      (template_parameter_list
        (template_parameter
          (plain_identifier)
          (template_constraint
            (reference_expression
              (plain_identifier))))
        (template_parameter
          (plain_identifier)
          (template_constraint
            (reference_expression
              (plain_identifier))))))
    (model_expression))
  (model_statement
    (plain_identifier)
    (template_parameters
      (template_parameter_list
        (template_parameter
          (plain_identifier)
          (template_constraint
            (reference_expression
              (plain_identifier)))
          (template_default
            (reference_expression
              (plain_identifier))))))
    (model_expression))
  (model_statement
    (plain_identifier)
    (model_is_heritage
      (reference_expression
        (plain_identifier)
        (template_arguments
          (expression_list
            (reference_expression
              (plain_identifier))))))))

============================================
Models
============================================

model Foo {
  a: string
  b: int32;
  c: bool,
}

model Foo {
  ...Bar
  ...Bar.Baz
  
  @foo a: string;
  b?: int32,
  "c": bool
  d: A | B
  e: "literal"
  f: 123
}

---

(source_file
  (model_statement
    (plain_identifier)
    (model_expression
      (model_body
        (model_property
          (plain_identifier)
          (reference_expression
            (plain_identifier)))
        (model_property
          (plain_identifier)
          (reference_expression
            (plain_identifier)))
        (model_property
          (plain_identifier)
          (reference_expression
            (plain_identifier))))))
  (model_statement
    (plain_identifier)
    (model_expression
      (model_body
        (model_property
          (model_spread_property
            (reference_expression
              (plain_identifier))))
        (model_property
          (model_spread_property
            (reference_expression
              (member_expression
                (plain_identifier)
                (plain_identifier)))))
        (model_property
          (decorator_list
            (decorator
              (plain_identifier)))
          (plain_identifier)
          (reference_expression
            (plain_identifier)))
        (model_property
          (plain_identifier)
          (reference_expression
            (plain_identifier)))
        (model_property
          (quoted_string_literal
            (quoted_string_fragment))
          (reference_expression
            (plain_identifier)))
        (model_property
          (plain_identifier)
          (union_expression
            (reference_expression
              (plain_identifier))
            (reference_expression
              (plain_identifier))))
        (model_property
          (plain_identifier)
          (quoted_string_literal
            (quoted_string_fragment)))
        (model_property
          (plain_identifier)
          (decimal_literal))))))

============================================
Scalars
============================================

scalar Foo;

@foo @bar scalar Foo;

scalar Foo extends string;

---

(source_file
  (scalar_statement
    (plain_identifier))
  (scalar_statement
    (decorator_list
      (decorator
        (plain_identifier))
      (decorator
        (plain_identifier)))
    (plain_identifier))
  (scalar_statement
    (plain_identifier)
    (scalar_extends
      (reference_expression
        (plain_identifier)))))

============================================
Enums
============================================

enum Foo {
  ...Bar
  ...Bar.Baz

  A;
  @foo B: "test",
  C: 123
  D,
}

---

(source_file
  (enum_statement
    (plain_identifier)
    (enum_body
      (enum_spread_member
        (reference_expression
          (plain_identifier)))
      (enum_spread_member
        (reference_expression
          (member_expression
            (plain_identifier)
            (plain_identifier))))
      (enum_member
        (plain_identifier))
      (enum_member
        (decorator_list
          (decorator
            (plain_identifier)))
        (plain_identifier)
        (enum_member_value
          (quoted_string_literal
            (quoted_string_fragment))))
      (enum_member
        (plain_identifier)
        (enum_member_value
          (decimal_literal)))
      (enum_member
        (plain_identifier)))))

============================================
Aliases
============================================

alias A = B;

alias A<Foo> = B<C>;

---

(source_file
  (alias_statement
    (plain_identifier)
    (reference_expression
      (plain_identifier)))
  (alias_statement
    (plain_identifier)
    (template_parameters
      (template_parameter_list
        (template_parameter
          (plain_identifier))))
    (reference_expression
      (plain_identifier)
      (template_arguments
        (expression_list
          (reference_expression
            (plain_identifier)))))))
